var synth=window.speechSynthesis,SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,SpeechGrammarList=window.SpeechGrammarList||window.webkitSpeechGrammarList,SpeechRecognitionEvent=window.SpeechRecognitionEvent||window.webkitSpeechRecognitionEvent;function speakjs(n){var i,r=[],o=n;function e(t){var n=new SpeechRecognition,e=new SpeechGrammarList;e.addFromString("#JSGF V1.0; grammar phrase;",1),n.grammars=e,n.lang=o,n.interimResults=!1,n.maxAlternatives=1,console.log("start"),n.start(),n.onresult=function(n){console.log("finalizado");var e=n.results[0][0].transcript;if(1==t){for(var o in e=e.toLowerCase(),r)if(e==r[o].text)return r[o].fun(),!0;return!1}i(e)},n.onspeechend=function(){n.stop()},n.onerror=function(n){console.log("error: "+n)},n.onaudiostart=function(n){},n.onaudioend=function(n){},n.onend=function(n){},n.onnomatch=function(n){},n.onsoundstart=function(n){},n.onsoundend=function(n){},n.onspeechstart=function(n){},n.onstart=function(n){}}return null!=o&&null!=o||(o="es"),{voiceToText:function(n){if(null==n||null==n)return console.log("no se asigno una funcion"),!1;i=n,e(2)},textToVoice:function(n){var e=!1;return null==n&&null==n||(e=!0,window.speechSynthesis.speak(new SpeechSynthesisUtterance(n))),e},command:function(n,e){r.push({text:n,fun:e})},listen:function(){e(1)}}}